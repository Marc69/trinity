pcs resource create nova-compute systemd:openstack-nova-compute op monitor interval="37s"
pcs resource create nova-network systemd:openstack-nova-network op monitor interval="37s"
pcs resource create nova-metadata-api systemd:openstack-nova-metadata-api op monitor interval="37s"
pcs resource group add grp_NovaCompute nova-compute nova-network nova-metadata-api
pcs resource clone grp_NovaCompute clone-max=3 clone-node-max=1 notify=false

pcs resource create trinity-api lsb:trinity_api op monitor interval="37s"
pcs constraint colocation add ip with trinity-api
pcs constraint order start trinity-api then start httpd

pcs resource create sentinel ocf:pacemaker:Dummy
pcs constraint colocation add ip with sentinel
pcs constraint order start grp_xCAT then start sentinel
pcs constraint order start grp_OpenStack then start sentinel
pcs constraint order start trinity-api then start sentinel
pcs constraint order start grp_NovaCompute then start sentinel
